{
    "name": "__MSG_appName__",
    "short_name": "__MSG_appShortName__",
    "description": "__MSG_appDescription__",
    "version": "0.1.0",
    "manifest_version": 2,
    "default_locale": "en",
    "background": {
        "scripts": [
            "scripts/background.js"
        ]
    },
    "content_scripts": [
        // PVSCL:IFCOND('Spreadsheet')
        {
            "matches": ["https://docs.google.com/spreadsheets/d/*", "https://docs.google.com/spreadsheets/u/0/d/*"],
            "js": ["scripts/googleSheetsContentScript.js"],
            "run_at": "document_end"
        },
        // PVSCL:ENDCOND
        // PVSCL:IFCOND('Moodle')
        {
            "matches": ["*://*/*grade/grading/*", "*://*/*mod/assign/view.php*"],
            "js": ["scripts/moodleContentScript.js"],
            "run_at": "document_end"
        }, {
            "matches": ["*://*/*course/modedit.php?add=assign*"],
            "js": ["scripts/moodleAssignmentAddContentScript.js"],
            "run_at": "document_end"
        }
        // PVSCL:ENDCOND
        // PVSCL:IFCOND('ACM')
        {
            "matches": ["*://dl.acm.org/citation.cfm?*"],
            "js": ["scripts/acmContentScript.js"],
            "run_at": "document_end"
        },
        // PVSCL:ENDCOND
        // PVSCL:IFCOND('GroupSelector')
        {
            "matches": [
              "https://hypothes.is/groups/*/*"
            ],
            "js": [
              "scripts/hypothesisGroupContentScript.js"
            ],
            "run_at": "document_end"
        },
        // PVSCL:ENDCOND
        {
            "matches": ["*://*/*", "file:///*/*"],
            // PVSCL:IFCOND('Spreadsheet')
            "exclude_matches": ["https://docs.google.com/spreadsheets/d/*", "https://docs.google.com/spreadsheets/u/0/d/*", "https://hypothes.is/login"],
            // PVSCL:ELSEIFCOND('Moodle')
            "exclude_matches": ["*://*/*grade/grading/*", "*://*/*mod/assign/view.php*", "*://*/*course/modedit.php?add=assign*"],
            // PVSCL:ENDCOND
            "js": ["scripts/contentScript.js"],
            "css": ["styles/contentScript.css"],
            "run_at": "document_start",
            "all_frames": false
        }
    ],
    "page_action": {
        "default_icon": "images/icon-38-bw.png",
        "default_title": "__MSG_browserActionTitle__"
    },
    "options_page": "pages/options.html",
    "options_ui": {
        "page": "pages/options.html",
        "chrome_style": false,
        "open_in_tab": true
    },
    "permissions": [
        "https://hypothes.is/",
        "storage",
        "tabs",
        "notifications",
        "webRequest",
        "webRequestBlocking",
        "identity",
        "contextMenus",
        "downloads",        
        // PVSCL:IFCOND('DOI')
        "*://doi.org/*",
        "*://dx.doi.org/*",
        // PVSCL:ENDCOND
        // PVSCL:IFCOND('Dropbox')
        "*://www.dropbox.com/s/",
        "*://*.dropboxusercontent.com/*",
        // PVSCL:ENDCOND
        "file://*/*"
    ],
    "web_accessible_resources": ["pages/*.html", "content/*", "images/*"]
}